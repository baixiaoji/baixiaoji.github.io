<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description"><meta name="keywords" content="Hexo, 前端, 技术, JavaScript, Nodejs,  Vuejs"><title>Vue学习系列（基础篇） - 石沉大海 - baixiaoji的个人博客</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="https://github.com/baixiaoji"><span>Github</span></a></li><li><a href="/about/"><span>about</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="http://callfiles.ueibo.com/hexo-theme-laughing/post_background.jpg"><div class="post-title"><h1 class="title">Vue学习系列（基础篇）</h1><ul class="meta"><li><i class="icon icon-author"></i>白小霁</li><li><i class="icon icon-clock"></i>13 Minutes</li><li><i class="icon icon-calendar"></i>May 20, 2017</li></ul></div></div><div class="article-content" style="max-width:800px"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>虽然Vue.js是一个趋向指令的框架。相比现有的<code>React</code>和<code>Angular1 2</code>框架而言，Vue的性能较好，而且官方也说了学习Vue，只要有HTML和JavaScript基础，看着文档就会（中文字你一定看得懂）。具体关于Vue的信息，你可以在官网查看，这里就不复述了，给你一张官网的<a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="external">飞机票</a>。<br><strong>注：讲解的是Vue 2.0</strong></p>
<h2 id="创建实例"><a href="#创建实例" class="headerlink" title="创建实例"></a>创建实例</h2><p>在当前环境中引入Vue了过后，你就可以通过<code>new Vue()</code>的方式创建Vue应用。每一个Vue实例都会代理<code>data</code>对象里的所有属性。</p>
<h3 id="实例生命周期"><a href="#实例生命周期" class="headerlink" title="实例生命周期"></a>实例生命周期</h3><p>每一个Vue的实例被创建之前都要经历一系列的初始化过程。而这些过程中，实例也会调用一些生命周期钩子，给我们提供了一些添加自定义逻辑的机会。生命周期如下图：<br><img src="https://cn.vuejs.org/images/lifecycle.png" width="541"></p>
<h2 id="模版语法"><a href="#模版语法" class="headerlink" title="模版语法"></a>模版语法</h2><p>上面说到每一个Vue实例中都会代理<code>data</code>对象里的所有属性，当你想要将数据插入到HTML中的时候，使用的是「Mustache 语法（双大括号）」。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Message: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>这样一来，Vue实例上的数据对象上msg属性发生变化，插值处的内容也会一同更新。当然你也想一次性插值，可以通过使用`v-once指令来实现。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-once</span>&gt;</span>Message: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>那如果我想将数据绑定到HTML属性上可是使用「Mustache 语法（双大括号）」吗？在Vue 2.x明确规定，使用<code>v-bind指令</code>即可。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-bind:title</span>=<span class="string">"msg"</span>&gt;</span>Message: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;<span class="name">span</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- v-bind 缩写 : 所以上述可以写成--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">:title</span>=<span class="string">"msg"</span>&gt;</span>Message: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>在数据绑定上，Vue.js 也支持<code>JavaScript表达式</code>，是<strong>表达式</strong>噢！<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&#123;&#123; ok? "Yes":"No"&#125;&#125;</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Message: &#123;&#123; msg.split('').reverse().join('') &#125;&#125;<span class="tag">&lt;<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h3><p>指令（Directives）是带有<code>v-</code> 前缀的特殊属性。指令属性的值预期是单一 <code>JavaScript</code> 表达式（除了<code>v-for</code>）。指令的职责就是当其表达式的值改变时相应地将某些行为应用到 <code>DOM</code> 上。<a href="https://cn.vuejs.org/v2/api/#指令" target="_blank" rel="external">指令API</a></p>
<h4 id="常用的指令"><a href="#常用的指令" class="headerlink" title="常用的指令"></a>常用的指令</h4><ul>
<li><code>v-show</code>：更具表达式的真假，切换元素<code>display:none;</code>的CSS属性。</li>
<li><code>v-if / v-else / v-else-if</code>：根据表达式的值的真假而渲染页面。在切换时元素及它的数据绑定 / 组件被销毁并重建。注意使用<code>v-else</code>时候，该元素要紧贴<code>v-if</code>元素。</li>
<li><code>v-for</code>：遍历数据源，实现多次渲染页面。</li>
<li><code>v-on</code>：绑定事件监听器。用于普通的元素就是<strong>监听原生的DOM事件</strong>。用于自定义的元素上，就可以监听子组件触发的<strong>自定义事件</strong>(这就是父子组件的通信方法)。缩写：<code>@</code></li>
<li><code>v-bind</code>：动态的绑定特性。缩写：<code>:</code></li>
<li><code>v-model</code>：实现数据的双向绑定，一般用于表单控件</li>
</ul>
<h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><p>有一些指令可以接受参数，在指令后用冒号指明。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-bind:title</span>=<span class="string">"msg"</span>&gt;</span>Message: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>在这里 <code>title</code> 是参数，告知 <code>v-bind</code> 指令将该元素的 <code>title</code> 属性与表达式 <code>msg</code> 的值绑定。<br>监听DOM事件，使用的指令是<code>v-on</code>：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">v-on:click</span>=<span class="string">"doSomething"</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h4><p>修饰符（Modifiers）是以半角句号 . 指明的特殊后缀，用于指出一个指令应该以特殊方式绑定。例如，<code>.prevent</code> 修饰符告诉 <code>v-on</code> 指令对于触发的事件调用 <code>event.preventDefault()</code>：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">v-on:click.prevent</span>=<span class="string">"doSomething"</span> <span class="attr">value</span>=<span class="string">"提交"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h4><p>Vue允许你自定义过滤取，可以用作一些常见文本的格式化。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;!--可以在下面这两个地方--&gt;</div><div class="line">&#123;&#123; msg | capitalize&#125;&#125;</div><div class="line"></div><div class="line">&lt;div v-bind:id=&quot;rawId | formatId&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>过滤器函数总接受表达式的值作为第一个参数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">  filters: &#123;</div><div class="line">    <span class="attr">capitalize</span>: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (!value) <span class="keyword">return</span> <span class="string">''</span></div><div class="line">      value = value.toString()</div><div class="line">      <span class="keyword">return</span> value.charAt(<span class="number">0</span>).toUpperCase() + value.slice(<span class="number">1</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h3><p>在模版中可以使用表达式，而表达式往往是一些简单的运算。如果在模版中放入大量逻辑会让模版难以维护。为了让模版更清晰和简单，便用到<strong>计算属性</strong>。顺便一提，在子组件不建议将<code>props</code>的值进行修改，也可以使用<strong>计算属性</strong>做一层嵌套。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>原始的信息是：&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>Message: &#123;&#123; msg.split('').reverse().join('') &#125;&#125;<span class="tag">&lt;<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#example'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">msg</span>: <span class="string">'Hello'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">computed</span>: &#123;</div><div class="line">    <span class="comment">// 默认只有getter 属性</span></div><div class="line">    reversedMessage: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="comment">// `this` 指向的就是 vm 实例</span></div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.msg.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>其实还可以在<code>methods</code>里申明一个方法，在模版中调用方法就行。就像这样：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>原始的信息是：&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>Message: &#123;&#123;reversedMessage() &#125;&#125;<span class="tag">&lt;<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<pre><code class="Javascript"><span class="keyword">new</span> Vue({
  <span class="comment">// el data 和上面一样</span>
  methods:{
    reversedMessage(){
      <span class="keyword">return</span> <span class="keyword">this</span>.msg.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>)
    }
  }
})
</code></pre>
<p><strong>那么这样有区别吗？</strong><br>其实是有，在页面渲染的过程中，计算属性是根据依赖数据（这里就是data里的msg）而变化的，一旦依赖数据（msg）发生了变化，计算属性就会重新计算给出返回值，依赖数据不变的情况下，计算属性会缓存之前计算的数据。而<code>methods</code>里的方法，只要发生看重新的渲染，<strong>函数总会执行</strong>。<br>虽然计算属性可以满足我们觉得多数的需求，可当我们想在某个数据变化响应一些方法，这时候我们就可以使用<code>watch</code>。</p>
<h3 id="提供一个学习的仓库"><a href="#提供一个学习的仓库" class="headerlink" title="提供一个学习的仓库"></a>提供一个学习的仓库</h3><p>以上是笔者认为是关于Vue的最基础的知识。因为没有写如何使用Vue，所以笔者有一个repo里已经写好关于搭建Vue环境，目录下有一个<code>app.js</code>文件就是关于Vue的基础代码。提供<a href="https://github.com/baixiaoji/vue-demo/tree/master/step-1" target="_blank" rel="external">飞机票</a></p>
</div><div class="article-meta" style="max-width:800px"><div class="tags"><i class="icon icon-tag"></i><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a><span class="tag-list-count">1</span></li></ul></div><div class="categories"><i class="icon icon-category"></i><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/技术/">技术</a><span class="category-list-count">26</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术/总结/">总结</a><span class="category-list-count">23</span></li></ul></li></ul></div></div><div class="article-comment" style="max-width:800px"><div class="ds-thread" id="ds-thread" data-thread-key="cj4aqnz87000vf8rh94inpey6" data-title="Vue学习系列（基础篇）" data-url="http://yoursite.com/2017/05/20/Vue学习系列（基础篇）/" site-name="ueibo"></div><script>var siteName = document.getElementById('ds-thread').getAttribute('site-name');
var duoshuoQuery = {short_name: siteName};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2017/05/25/正则，你这个磨人的小妖精/"><i class="icon icon-arror-left"></i></a></li><li><a href="/2017/05/07/Flex布局教程/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/baixiaoji" title="Github" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="https://www.douban.com/people/baixiaoji/" title="douban" target="_blank"><i class="icon icon-douban"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2017 石沉大海 - baixiaoji的个人博客<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small></p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>